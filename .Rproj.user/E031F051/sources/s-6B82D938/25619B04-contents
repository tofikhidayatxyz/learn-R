library(DT)

data = read.csv2('./data/siswa.csv')

baseValue = data[1:100, 8]

minData = floor(min(baseValue) / 10)
maxData = ceiling(max(baseValue) / 10)

agregation = c()
valueOfAgregate = c()
dataValues = c()
medianValues = c()


for(itm in c(minData:maxData)) {
  agregate = baseValue[baseValue >= itm * 10 & baseValue < (itm + 1) * 10]
  minAgregate = min(agregate)
  maxAgregate = max(agregate)
  if(minAgregate != Inf & maxAgregate != Inf) {
    agregation <- append(agregation,
                         paste(minAgregate, " - ", maxAgregate),
                         after = length(agregation)) 
    valueOfAgregate <- append(valueOfAgregate,
                              length(agregate),
                              after = length(valueOfAgregate))
    
    dataValues <- append(dataValues,
                         toString(sort.int(agregate)),
                         after= length(dataValues))
    
    medianValues <- append(medianValues,
                           median(agregate),
                           after = length(medianValues)
                           )
  }
}

tableData <- data.frame(Interval = agregation,
                        Median = medianValues,
                        Jumlah = valueOfAgregate,
                        Data_Sebaran = dataValues
                        )

datatable(tableData)
